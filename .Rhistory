zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "TOTAL", colors ="Spectral")%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "femenino", color = "#525174") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "masculino", color = "#5DD39E") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "desconocido", color = "#BCE784") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "TOTAL")%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "femenino", color = "#525174") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "masculino", color = "#5DD39E") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "desconocido", color = "#BCE784") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total")%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino", color = "#525174") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino", color = "#5DD39E") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", color = "#BCE784") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", color = "#5DD39E")%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino", color = "#525174") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino", color = "#5DD39E") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", color = "#BCE784") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", color = "#348AA7")%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino", color = "#525174") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino", color = "#5DD39E") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", color = "#BCE784") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", color = "#348AA7", color = z)%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino", color = "#525174") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino", color = "#5DD39E") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", color = "#BCE784") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", color = z)%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino", color = "#525174") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino", color = "#5DD39E") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", color = "#BCE784") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", marker = list(color = colors[[match(n, colNames)]]))%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", marker = list(color = colors[[match(n, grupo_edad)]]))%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", marker = list(color = colors[[match(~n, ~grupo_edad)]]))%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", marker = list(color = colors[[match(grupos_etarios$n, grupos_etarios$grupo_edad)]]))%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", colors = colors_graphic)%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
colors_graphic <- c('#348AA7', '#525174', '#5DD39E','#BCE784')
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", colors = colors_graphic)%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", colors = "YlOrRd")%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total", colors = "YlOrRd", color =~SEXO)%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido") %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total" )%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker_color='lightsalmon') %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total" )%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker='lightsalmon') %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker=c('lightsalmon') %>%
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total" )%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker=c('lightsalmon')) %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total" )%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker=c('lightsalmon')) %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total" )%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker=list('lightsalmon')) %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total" )%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker=list(color ='lightsalmon')) %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total" )%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino") %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino") %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker=list(color ='#BCE784')) %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
fig <- plot_ly(grupos_etarios, x = ~grupo_edad, y= ~n, type = 'bar', name = "Total",marker=list(color ='#348AA7') )%>%
add_trace(mujeres,x = mujeres$grupo_edad, y = mujeres$n,  name = "Femenino", marker=list(color ='#525174')) %>%
add_trace(hombres,x = hombres$grupo_edad, y = hombres$n, name = "Masculino", marker=list(color ='#5DD39E')) %>%
add_trace(desconocidos,x = desconocidos$grupo_edad, y = desconocidos$n, name = "Desconocido", marker=list(color ='#BCE784')) %>%
layout(xaxis = list(title = 'Grupos etarios'),
yaxis = list(title = 'Cantidad de muertes'),
barmode = 'group',
plot_bgcolor='#e5ecf6',
xaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
title ="Mortalidad por grupo etario y sexo")
fig
muertes_fecha <- all_data %>% count(FECHA)
muertes_fecha$FECHA
muertes_fecha$n
fig <- plot_ly(muertes_fecha, x = ~FECHA, y = ~n, type = 'scatter', mode = 'lines')
fig
fig <- plot_ly(muertes_fecha, x = ~FECHA, y = ~n, type = 'scatter', mode = 'lines', marker=list(color ='#00A6A6' )
fig <- plot_ly(muertes_fecha, x = ~FECHA, y = ~n, type = 'scatter', mode = 'lines', marker=list(color ='#00A6A6' ))
fig <- plot_ly(muertes_fecha, x = ~FECHA, y = ~n, type = 'scatter', mode = 'lines', marker=list(color ='#00A6A6' ))
fig
fig <- plot_ly(muertes_fecha, x = ~FECHA, y = ~n, type = 'scatter', mode = 'lines', color ='#00A6A6')
fig
fig <- plot_ly(muertes_fecha, x = ~FECHA, y = ~n, type = 'scatter', mode = 'lines', colors ='#00A6A6')
fig
causas <- all_data
causas$n <- 1
causas <- causas %>% group_by(CAUSA1) %>% summarise(n=sum(n))
causas <- subset(causas) %>% filter(CAUSA1!="DESCONOCIDA")
causas<- head(arrange(causas,desc(n)), n = 10)
causas
fig <- plot_ly(causas, x = ~n, y = ~CAUSA1, type = 'bar', orientation = 'h', marker=list(color ='#FE6D73') )%>%
layout(xaxis = list(title = 'Cantidad de muertes'),
yaxis = list(title = 'Causas de muerte'))
fig
fig <- plot_ly(causas, x = ~n, y = ~CAUSA1, type = 'bar', orientation = 'h', marker=list(color ='#FE6D73') )%>%
layout(xaxis = list(title = 'Cantidad de muertes'),
yaxis = list(title = 'Causas de muerte'),
title ="Causas más frecuentes de mortalidad")
fig
#############Gráfica de causas de mortalidad a lo largo del tiempo ##############
causas_fecha <- all_data
causas_fecha$n <- 1
causas_fecha <- causas_fecha %>% group_by(CAUSA1, FECHA) %>%summarise(n=sum(n))
causas_fecha <- subset(causas_fecha, CAUSA1 %in% causas$CAUSA1)
causas_fecha <- causas_fecha %>% filter(FECHA>'2021-05-01')
fig <- plot_ly(causas_fecha, x = ~FECHA, y = ~n, color = ~CAUSA1,
type = 'scatter', mode = 'line', colors = "Set1")
fig <- fig %>% add_lines()
fig
fig <- plot_ly(causas_fecha, x = ~FECHA, y = ~n, color = ~CAUSA1,
type = 'scatter', mode = 'line', colors = "Set2")
fig <- fig %>% add_lines()
fig
fig <- plot_ly(causas_fecha, x = ~FECHA, y = ~n, color = ~CAUSA1,
type = 'scatter', mode = 'line', colors = "Set2")
#fig <- fig %>% add_lines()
fig
fig <- plot_ly(causas_fecha, x = ~FECHA, y = ~n, color = ~CAUSA1,
type = 'scatter', mode = 'line', colors = "Set2") %>%
fig
fig <- plot_ly(causas_fecha, x = ~FECHA, y = ~n, color = ~CAUSA1, type = 'scatter', mode = 'line', colors = "Set2") %>%
layout(xaxis = list(title = 'Fecha'),
yaxis = list(title = 'Cantidad de muertes'))
fig
fig <- plot_ly(causas_fecha, x = ~FECHA, y = ~n, color = ~CAUSA1, type = 'scatter', mode = 'line', colors = "Set2") %>%
layout(xaxis = list(title = 'Fecha'),
yaxis = list(title = 'Cantidad de muertes'),
legend = list(title=list(text='<b> Causas de muerte </b>')),
title = 'Evolución de mortalidad por causa de muerte')
fig
muertes_fecha <- all_data %>% count(FECHA)
fig <- plot_ly(muertes_fecha, x = ~FECHA, y = ~n, type = 'scatter', mode = 'lines', colors ='#00A6A6')
config(fig, displaylogo = FALSE)
fig
muertes_fecha <- all_data %>% count(FECHA)
fig <- plot_ly(muertes_fecha, x = ~FECHA, y = ~n, type = 'scatter', mode = 'lines', colors ='#00A6A6')
config(fig, displaylogo = FALSE)
fig <- config(fig, displaylogo = FALSE)
fig
unique(all_data$CAUSA1)
causas <- all_data
causas$n <- 1
causas <- causas %>% group_by(CAUSA1) %>% summarise(n=sum(n))
causas <- subset(causas) %>% filter(CAUSA1!="DESCONOCIDA")
causas<- head(arrange(causas,desc(n)), n = 10)
causas
fig <- plot_ly(causas, x = ~n, y = ~CAUSA1, type = 'bar', orientation = 'h', marker=list(color ='#FE6D73'))
config(fig, displaylogo = FALSE)%>%
layout(xaxis = list(title = 'Cantidad de muertes'),
yaxis = list(title = 'Causas de muerte'),
title ="Causas más frecuentes de mortalidad")
fig
causas_fecha <- all_data
causas_fecha$n <- 1
causas_fecha <- causas_fecha %>% group_by(CAUSA1, FECHA) %>%summarise(n=sum(n))
causas_fecha <- subset(causas_fecha, CAUSA1 %in% causas$CAUSA1)
causas_fecha <- causas_fecha %>% filter(FECHA>'2021-05-01')
fig <- plot_ly(causas_fecha, x = ~FECHA, y = ~n, color = ~CAUSA1, type = 'scatter', mode = 'line', colors = "Set2")
config(fig, displaylogo = FALSE)%>%
layout(xaxis = list(title = 'Fecha'),
yaxis = list(title = 'Cantidad de muertes'),
legend = list(title=list(text='<b> Causas de muerte </b>')),
title = 'Evolución de mortalidad por causa de muerte')
fig
